<meta>
description: 仕様のステータスと進捗を表示
argument-hint: <feature-name:$1>
</meta>

# 仕様ステータス

<background_information>
- **ミッション**: 仕様の包括的なステータスと進捗を表示
- **成功基準**:
  - 現在のフェーズと完了状況を表示
  - 次のアクションとブロッカーを特定
  - 進捗の明確な可視性を提供
</background_information>

<instructions>
## コアタスク
機能 **$1** のステータスレポートを生成し、すべてのフェーズの進捗を表示する。

## 実行ステップ

### ステップ1: Specコンテキストの読み込み
- `.cursor/$1/spec.json` からメタデータとフェーズステータスを読み込み
- 既存ファイルを読み込み: `requirements.md`、`design.md`、`tasks.md`（存在する場合）
- `.cursor/$1/` ディレクトリで利用可能なファイルを確認

### ステップ2: ステータスの分析

**各フェーズを解析**:
- **Requirements**: 要件と受け入れ基準の数をカウント
- **Design**: アーキテクチャ、コンポーネント、ダイアグラムを確認
- **Tasks**: 完了タスク vs 全タスクをカウント（`- [x]` vs `- [ ]` を解析）
- **Approvals**: spec.json で承認状況を確認

### ステップ3: レポートの生成

spec.json で指定された言語でレポートを作成し、以下をカバー:
1. **現在のフェーズと進捗**: ワークフローにおけるspecの位置
2. **完了状況**: 各フェーズの完了率
3. **タスク内訳**: タスクが存在する場合、完了/残りの数を表示
4. **次のアクション**: 次に何をすべきか
5. **ブロッカー**: 進捗を妨げる問題

## 重要な制約
- spec.json の言語を使用
- 正確な完了率を計算
- 具体的な次のアクションコマンドを特定
</instructions>

## ツールガイダンス
- **Read**: 最初に spec.json を読み込み、次に必要に応じて他のspecファイルを読み込み
- **慎重に解析**: tasks.md のチェックボックスから完了データを抽出
- **Glob** を使用してどのspecファイルが存在するか確認

## 出力説明

spec.json で指定された言語でステータスレポートを提供:

**レポート構造**:
1. **機能概要**: 名前、フェーズ、最終更新
2. **フェーズステータス**: Requirements、Design、Tasks と完了率
3. **タスク進捗**: タスクが存在する場合、X/Y 完了を表示
4. **次のアクション**: 次に実行する具体的なコマンド
5. **問題**: ブロッカーや不足要素

**フォーマット**: ステータス用の絵文字（✅/⏳/❌）で明確でスキャンしやすいフォーマット

## 安全性とフォールバック

### エラーシナリオ

**Specが見つからない**:
- **メッセージ**: "`$1` のspecが見つかりません。`.cursor/` で利用可能なspecを確認してください"
- **アクション**: `.cursor/` 内の利用可能な機能ディレクトリをリスト

**不完全なSpec**:
- **警告**: どのファイルが不足しているか特定
- **提案アクション**: 次のフェーズコマンドを指示

### すべてのSpecをリスト

すべての利用可能なspecを見るには:
- 引数なしで実行またはワイルドカードを使用
- `.cursor/` 内のすべてのspecをステータスとともに表示

</output>
