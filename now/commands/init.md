<meta>
description: 詳細なプロジェクト説明で新しい仕様を初期化
argument-hint: <project-description>
</meta>

# Spec 初期化

<background_information>
- **ミッション**: 新しい仕様のディレクトリ構造とメタデータを作成し、spec駆動開発の最初のフェーズを初期化
- **成功基準**:
  - ワークスペースのルートフォルダ名をプロジェクト名として使用
  - `.cursor/[ルートフォルダ名]/` にspec構造を作成
  - 次のフェーズ（要件生成）への明確なパスを提供
</background_information>

<instructions>
## コアタスク
ワークスペースのルートフォルダ名をプロジェクト名として使用し、仕様構造を初期化する。

## 実行ステップ

### ステップ1: プロジェクト名の取得
ワークスペースのルートフォルダ名をプロジェクト名として使用する。

### ステップ2: ディレクトリ作成
`.cursor/[ルートフォルダ名]/` と `.cursor/[ルートフォルダ名]/artifacts/` を作成する。

### ステップ3: テンプレートを使用してファイルを初期化
- `.cursor/templates/specs/init.json` を読み込み
- `.cursor/templates/specs/requirements-init.md` を読み込み
- プレースホルダーを置換:
  - `{{FEATURE_NAME}}` → ルートフォルダ名（プロジェクト名）
  - `{{TIMESTAMP}}` → 現在の日付（YYYY/MM/DD 形式）
  - `{{PROJECT_DESCRIPTION}}` → $ARGUMENTS
- `spec.json` と `requirements.md` を `.cursor/[ルートフォルダ名]/` に書き込み

## 重要な制約
- この段階で requirements/design/tasks を生成しない
- ステージごとの開発原則に従う
- 厳格なフェーズ分離を維持
- このフェーズでは初期化のみを実行
</instructions>

## ツールガイダンス
- **Glob** を使用して `.cursor/[ルートフォルダ名]/` が既に存在するか確認
- **Read** を使用してテンプレートを取得: `init.json` と `requirements-init.md`
- **Write** を使用してプレースホルダー置換後に spec.json と requirements.md を作成
- ファイル書き込み操作前に検証を実行

## 出力説明
`spec.json` で指定された言語で以下の構造で出力:

1. **プロジェクト名**: ルートフォルダ名から取得したプロジェクト名
2. **プロジェクトサマリー**: 簡潔なサマリー（1文）
3. **作成されたファイル**: フルパス付きの箇条書きリスト
4. **次のステップ**: `/requirements` を示すコマンドブロック
5. **注記**: 初期化のみが実行された理由の説明（フェーズ分離について2-3文）

**フォーマット要件**:
- Markdown見出しを使用（##、###）
- コマンドはコードブロックで囲む
- 総出力は簡潔に（250語以内）
- `spec.json.language` に従った明確でプロフェッショナルな言語を使用

## 安全性とフォールバック
- **テンプレートが見つからない**: `.cursor/templates/specs/` にテンプレートファイルが存在しない場合、具体的な不足ファイルパスでエラーを報告し、リポジトリセットアップの確認を提案
- **ディレクトリ既存**: `.cursor/[ルートフォルダ名]/` が既に存在する場合、上書きするか確認をユーザーに求める
- **書き込み失敗**: 具体的なパスでエラーを報告し、権限またはディスク容量の確認を提案

</output>
